{"version":3,"names":["React","Image","StyleSheet","View","PanGestureHandler","PinchGestureHandler","State","Animated","useAnimatedGestureHandler","useAnimatedStyle","useSharedValue","styles","create","flexOne","flex","container","backgroundColor","overflow","position","pinchableImage","rootContainer","image","aspectRatio","ImageViewerV2","props","scale","translateX","translateY","translateXNumber","translateYNumber","currentMaxTranslateX","currentMaxTranslateY","width","height","srcWidth","srcHeight","longPressed","onPanGestureHandlerV2","onStart","_ev","ctx","offsetX","value","offsetY","maxTranX","maxTranY","onActive","ev","x","translationX","y","translationY","console","log","url","onFinish","onPinchGestureHandler","lastScale","animatedStyles","transform","containerWidth","containerHeight","imageWidth","imageHeight","onImageLayoutChange","layout","nativeEvent","onLayoutChange","constraintDimension","onImageLoaded","dim","uri","imgW","imgH","cW","cH","sender","newWidth","newHeight","ratioW","ratioH","min","Math","onHandlerStateChange","evt","name","state","BEGAN","ACTIVE","onLongPressGestureEvent","renderAnimateImage","err","error","source","renderTestImage","itemRender"],"sourceRoot":"../../src","sources":["ImageViewerV2.tsx"],"mappings":"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"}